<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <title>Claim Details</title>
    <!--/tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="" />
    <script type="application/x-javascript">
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!--//tags -->
    <link th:href="@{/css/new1.css}" rel="stylesheet" type="text/css" media="all" />
    <link th:href="@{/css/new2.css}" rel="stylesheet" type="text/css" media="all" />
    <link th:href="@{/css/new3.css}" rel="stylesheet"/>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet" type="text/css" media="all" />
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css" media="all" />

    <link th:href="@{/css/font-awesome.css}" rel="stylesheet"/>
    <!-- //for bootstrap working -->

    <script th:inline="javascript" >
        // <![CDATA[
        function mytime() {

            var a = new Date();

            var b = a.getHours();

            var c = a.getMinutes();

            if(c<10){
                c="0"+c;
            }

            document.getElementById("time").innerHTML = b +":" + c;
            document.getElementById("time1").innerHTML = b +":" + c;

        }

        setInterval(function () { mytime() }, 1000);
        // ]]>
    </script>
    <script>
        window.onload = function(){
            var arrIcon = ['@{/img/talk.jpg}','http://www.xttblog.com/wp-content/uploads/2016/03/123.png'];
            var num = 0;     //控制头像改变
            var iNow = -1;    //用来累加改变左右浮动
            var icon = document.getElementById('user_face_icon').getElementsByTagName('img');
            var btn = document.getElementById('btn');
            var text = document.getElementById('text');
            var content1 = document.getElementById("container1").getElementsByTagName('ul')[0];
            var img = content1.getElementsByTagName('img');
            var span = content1.getElementsByTagName('span');

            // icon[0].onclick = function(){
            //     if(num==0){
            //         this.src = arrIcon[1];
            //         num = 1;
            //     }else if(num==1){
            //         this.src = arrIcon[0];
            //         num = 0;
            //     }
            // };
            btn.onclick = function(){
                if(text.value ==''){
                    alert('The message cannot be empty!');
                }
                // else {
                //         content1.innerHTML += '<li><img th:src="'+arrIcon[num]+'"/><span>'+text.value+'</span></li>';
                //         iNow++;
                //         if(num==0){
                //             img[iNow].className += 'imgright';
                //             span[iNow].className += 'spanright';
                //         }else {
                //             img[iNow].className += 'imgleft';
                //             span[iNow].className += 'spanleft';
                //         }
                //         text.value = '';
                //         // 内容过多时,将滚动条放置到最底端
                ul.scrollTop=ul.scrollHeight;
                //     }
            };
            var arrIcon1 = ['talk.jpg','http://www.xttblog.com/wp-content/uploads/2016/03/123.png'];
            var num1 = 0;     //控制头像改变
            var iNow1 = -1;    //用来累加改变左右浮动
            var icon1 = document.getElementById('user_face_icon1').getElementsByTagName('img');
            var btn1 = document.getElementById('btn1');
            var text1 = document.getElementById('text2');
            var content2 = document.getElementById("container2").getElementsByTagName('ul')[0];
            var img1 = content2.getElementsByTagName('img');
            var span1 = content2.getElementsByTagName('span');

            // icon1[0].onclick = function(){
            //     if(num1==0){
            //         this.src = arrIcon1[1];
            //         num1 = 1;
            //     }else if(num1==1){
            //         this.src = arrIcon1[0];
            //         num1 = 0;
            //     }
            // }
            btn1.onclick = function(){
                if(text1.value ==''){
                    alert('The message cannot be empty!');
                }
                //     else {
                //     content2.innerHTML += '<li><img th:src="'+arrIcon1[num1]+'"/><span>'+text1.value+'</span></li>';
                //     iNow1++;
                //     if(num1==0){
                //         img1[iNow1].className += 'imgright1';
                //         span1[iNow1].className += 'spanright1';
                //     }else {
                //         img1[iNow1].className += 'imgleft1';
                //         span1[iNow1].className += 'spanleft1';
                //     }
                //     text1.value = '';
                //     // 内容过多时,将滚动条放置到最底端
                //     ul2.scrollTop=ul2.scrollHeight;
                // }
            }

        }
    </script>
    <link rel="stylesheet" type="text/css" th:href="@{/css/talk2.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/talk3.css}"/>


    <link href="http://fonts.googleapis.com/css?family=Work+Sans:200,300,400,500,600,700" rel="stylesheet"/>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,900,900italic,700italic' rel='stylesheet' type='text/css'/>
</head>

<body>
<!-- header -->
<div class="header" id="home">
    <div class="content white agile-info">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" th:href="@{./}">
                        <h1><span class="fa fa-signal" aria-hidden="true"></span> Hibernia-Sino <label> <span>Travel Insurance </span></label></h1>
                    </a>
                </div>
                <!--/.navbar-header-->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <nav class="link-effect-2" id="link-effect-2">
                        <ul class="nav navbar-nav">
                            <li class="active"><a th:href="@{./}" class="effect-3"><span>Home</span></a></li>
                            <li>
                                <!--图标按钮-->
                                <!--<button type="button" class="btn btn-default btn-lg" style="font-size: 13px" >-->
                                <!--<span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Log out-->
                                <!--</button>-->
                                <a th:href="@{logout}">
                                    <button type="button" class="btn btn-default btn-lg" style="font-size: 13px" >
                                        <span>Log out</span>
                                    </button>
                                </a>
                            </li>
                            <li>
                                <div class="dropdown">
                                    <!--<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="height: 38px">-->
                                    <!--<span class="glyphicon glyphicon-globe" aria-hidden="true"></span>-->
                                    <!--<span class="caret"></span>-->
                                    <!--</button>-->
                                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="height: 38px">
                                        <span>language</span>
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                        <li><a th:href="@{'./'+#{theOtherLanguage}}"><span th:text="#{changeLanguage}"></span></a></li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </nav>


                </div>
                <!--/.navbar-collapse-->
                <!--/.navbar-->
            </div>
        </nav>
    </div>
</div>
<div class="inner_page_agile" style="margin-bottom: 40px">
    <h3><span>Claim details</span></h3>
    <p><span>View the details of the claim</span></p>
</div>
<div class="form-horizontal center-block" style="background-color: #eeeded;width:1100px;padding-top: 30px;padding-bottom: 50px;border-radius: 20px;margin-bottom: 30px">

    <fieldset>
        <label class="col-sm-6 control-label" style="padding-top: 0px" ><span>Order number :</span></label>
        <div class="col-sm-6 input-group">
            <span type="text" style="width: 300px" th:text="${order.ordernumber}"></span>
            <!--<p class="help-block">It will be used when log in</p>-->
        </div>

        <label class="col-sm-6 control-label" style="padding-top: 0px" ><span>Items photos :</span></label>
        <div class="col-sm-6 input-group">
            <img th:src="${itemPicture} == null ? _ : @{'data:image/png;base64,'+${itemPicture}}" style="width: 100px;height: 100px" alt="Item photo not submitted" class="img-rounded"/>
        </div>

        <label class="col-sm-6 control-label" style="padding-top: 0px"><span>Item name :</span></label>
        <div class="col-sm-6 input-group">
            <span type="text" style="width: 300px" th:text="${item.itemname}"></span>
        </div>

        <label class="col-sm-6 control-label" style="padding-top: 0px"><span>Item price :</span></label>
        <div class="col-sm-6 input-group">
            <span type="text" style="width: 300px" th:text="${item.price}"></span>
        </div>

        <label class="col-sm-6 control-label" style="padding-top: 0px" ><span>Item description :</span></label>
        <div class="col-sm-6 input-group">
            <span type="text" style="width: 300px" th:text="${item.description}"></span>
        </div>

        <label class="col-sm-6 control-label" style="padding-top: 0px"><span>Claim state :</span></label>
        <div class="col-sm-6 input-group">
            <span type="text" style="width: 300px" th:text="${order.status}"></span>
        </div>

        <label class="col-sm-3 control-label" ></label>
<!--        <div class="form-group">-->
<!--            <span class="input-group-addon center-block" style="width: 500px;margin-bottom: -25px" ><span>Consultation record</span></span>-->

<!--            <label class="control-label"></label>-->
<!--            <div class="form-group">-->
<!--                <p class="form-control center-block pre-scrollable" style="width: 500px;height: 150px;margin-bottom: -15px">aaaaabhtbygbtyyyyyyyyy<br/>yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy<br/>yyyyyyyyyyyyyyyyyyyyyyyyyyy<br/>yyyyyyyyyyyyyyyyyyyyyyyyyyyyyy<br/>yaaaafffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>-->
<!--            </div>-->

<!--        </div>-->
<!--        <div class="text-center">-->
<!--            <div class="center-block col-sm-12" style="list-style-type: none" > <input   type="text" placeholder="Please enter the message" style="width: 400px"/>-->
<!--                <button type="submit" class="btn btn-default btn-success" style=" width: 100px"><span>Send</span></button></div>-->
<!--        </div>-->





    </fieldset>
</div>
<div th:if="${order.status==T(com.anonymous.HST1C.Status).PROCESSING}" id="container1" style="margin: 0 auto">
    <div class="header1">
        <span style="float: left;">chat box</span>
        <p id="time" style="float: left;margin-left: 450px"></p>
        <form th:if="${message_linked_ordernumber !=null}" method="POST" th:action="@{fetch_message}">
            <input type="hidden" th:id="role" th:name="role" th:value="${T(com.anonymous.HST1C.Role).CUSTOMER}"/>
            <input type="hidden" th:id="ordernumber" th:name="ordernumber" th:value="${message_linked_ordernumber}" />
            <button type="submit" class="btn btn-success link-button" style="margin-left: 960px">refresh</button>
        </form>
    </div>
    <ul class="content1" id="ul">
        <li th:each="message : ${messages}">
            <img th:class="${message.issend}?imgright:imgleft" th:src="${user_pic} == null ? _ : @{'data:image/png;base64,'+${user_pic}}" alt="user icon"/>
            <span th:class="${message.issend}?spanright:spanleft" th:text="${message.text} "></span>
        </li>
    </ul>
    <div class="footer1">
        <div id="user_face_icon">
            <img th:src="${user_pic} == null ? _ : @{'data:image/png;base64,'+${user_pic}}" alt="user icon"/>
        </div>

        <form method="POST" th:action="@{fetch_message}">
            <input type="hidden" th:id="role" th:name="role" th:value="${T(com.anonymous.HST1C.Role).CUSTOMER}"/>
            <input type="hidden" th:id="ordernumber" th:name="ordernumber" th:value="${order.ordernumber}" />
            <input type="text" placeholder="say something.." th:id="text" th:name="text"/>
            <span>
                <button id="btn" type="submit" class="link-button">send</button>
            </span>
        </form>
    </div>
</div>
<br/>
<br/>
<br/>
<br/>
<div class="col-sm-12 center-block ">
    <!-- Back Button -->
    <a th:href="@{claim_list}"><button class="btn btn-inverse" style="margin-left: 45px;margin-top: -70px;margin-bottom: 125px;width: 10%;height: 40px;font-size: 15px;"><span>&lt;&lt; Back</span></button></a>
</div>
<!-- footer -->
<div class="footer_top_agileits" style="padding-top: 30px">
    <div class="container">
        <div class="col-md-6 footer_grid">
            <h3><span>About Us</span></h3>
            <p><span>Nam libero tempore cum vulputate id est id, pretium semper enim. Morbi viverra congue nisi vel pulvinar posuere sapien
                eros.</span>
            </p>
        </div>
        <div class="col-md-6 footer_grid">
            <h3><span>Contact Info</span></h3>
            <ul class="address">
                <li><i class="fa fa-map-marker" aria-hidden="true"></i><span style="margin:0px;display:inline;">Beijing-Dublin International College,Beijing,China.</span></li>
                <li><i class="fa fa-envelope" aria-hidden="true"></i><a href="mailto:info@example.com">Group5_Anonymous@gmail.com</a></li>
                <li><i class="fa fa-phone" aria-hidden="true"></i>+8613888888888</li>
            </ul>
        </div>
        <div class="clearfix"> </div>
        <div class="clearfix"> </div>
    </div>
</div>
<div class="footer_w3ls">
    <div class="container">
        <div class="footer_bottom">
            <div class="col-md-9 footer_bottom_grid">
                <div class="footer_bottom1">
                    <a th:href="@{./}">
                        <h2><span class="fa fa-signal" aria-hidden="true"></span> Hibernia-Sino <label><span>Travel Insurance</span></label></h2>
                    </a>
                    <p><span>Copyright &copy; Hibernia-Sino All rights reserved.</span></p>
                </div>
            </div>
            <div class="clearfix"> </div>
        </div>

    </div>
</div>

<!-- //footer -->

<a href="#home" class="scroll" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
<!-- js -->
<script type="text/javascript" th:src="@{/js/jquery-2.1.4.min.js}"></script>

<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
</body>

</html>